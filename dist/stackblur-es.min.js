function t(r){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(r)}var r=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],a=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function n(t,r,a,n){if("string"==typeof t&&(t=document.getElementById(t)),t&&"naturalWidth"in t){var e=t.naturalWidth,i=t.naturalHeight;if("string"==typeof r&&(r=document.getElementById(r)),r&&"getContext"in r){r.style.width=e+"px",r.style.height=i+"px",r.width=e,r.height=i;var g=r.getContext("2d");g.clearRect(0,0,e,i),g.drawImage(t,0,0),isNaN(a)||a<1||(n?o(r,0,0,e,i,a):f(r,0,0,e,i,a))}}}function e(r,a,n,e,o){if("string"==typeof r&&(r=document.getElementById(r)),!(r&&"object"===t(r)&&"getContext"in r))throw new TypeError("Expecting canvas with `getContext` method in processCanvasRGB(A) calls!");var i=r.getContext("2d");try{return i.getImageData(a,n,e,o)}catch(t){throw new Error("unable to access image data: "+t)}}function o(t,r,a,n,o,f){if(!(isNaN(f)||f<1)){f|=0;var g=e(t,r,a,n,o);g=i(g,r,a,n,o,f),t.getContext("2d").putImageData(g,r,a)}}function i(t,n,e,o,i,f){for(var g,s=t.data,c=2*f+1,u=o-1,l=i-1,x=f+1,b=x*(x+1)/2,y=new v,m=y,h=1;h<c;h++)m=m.next=new v,h===x&&(g=m);m.next=y;for(var d=null,p=null,w=0,C=0,B=r[f],E=a[f],I=0;I<i;I++){m=y;for(var N=s[C],R=s[C+1],D=s[C+2],G=s[C+3],S=0;S<x;S++)m.r=N,m.g=R,m.b=D,m.a=G,m=m.next;for(var A=0,T=0,W=0,j=0,H=x*N,k=x*R,q=x*D,z=x*G,F=b*N,J=b*R,K=b*D,L=b*G,M=1;M<x;M++){var O=C+((u<M?u:M)<<2),P=s[O],Q=s[O+1],U=s[O+2],V=s[O+3],X=x-M;F+=(m.r=P)*X,J+=(m.g=Q)*X,K+=(m.b=U)*X,L+=(m.a=V)*X,A+=P,T+=Q,W+=U,j+=V,m=m.next}d=y,p=g;for(var Y=0;Y<o;Y++){var Z=L*B>>E;if(s[C+3]=Z,0!==Z){var $=255/Z;s[C]=(F*B>>E)*$,s[C+1]=(J*B>>E)*$,s[C+2]=(K*B>>E)*$}else s[C]=s[C+1]=s[C+2]=0;F-=H,J-=k,K-=q,L-=z,H-=d.r,k-=d.g,q-=d.b,z-=d.a;var _=Y+f+1;_=w+(_<u?_:u)<<2,F+=A+=d.r=s[_],J+=T+=d.g=s[_+1],K+=W+=d.b=s[_+2],L+=j+=d.a=s[_+3],d=d.next;var tt=p,rt=tt.r,at=tt.g,nt=tt.b,et=tt.a;H+=rt,k+=at,q+=nt,z+=et,A-=rt,T-=at,W-=nt,j-=et,p=p.next,C+=4}w+=o}for(var ot=0;ot<o;ot++){var it=s[C=ot<<2],ft=s[C+1],gt=s[C+2],vt=s[C+3],st=x*it,ct=x*ft,ut=x*gt,lt=x*vt,xt=b*it,bt=b*ft,yt=b*gt,mt=b*vt;m=y;for(var ht=0;ht<x;ht++)m.r=it,m.g=ft,m.b=gt,m.a=vt,m=m.next;for(var dt=o,pt=0,wt=0,Ct=0,Bt=0,Et=1;Et<=f;Et++){C=dt+ot<<2;var It=x-Et;xt+=(m.r=it=s[C])*It,bt+=(m.g=ft=s[C+1])*It,yt+=(m.b=gt=s[C+2])*It,mt+=(m.a=vt=s[C+3])*It,Bt+=it,pt+=ft,wt+=gt,Ct+=vt,m=m.next,Et<l&&(dt+=o)}C=ot,d=y,p=g;for(var Nt=0;Nt<i;Nt++){var Rt=C<<2;s[Rt+3]=vt=mt*B>>E,vt>0?(vt=255/vt,s[Rt]=(xt*B>>E)*vt,s[Rt+1]=(bt*B>>E)*vt,s[Rt+2]=(yt*B>>E)*vt):s[Rt]=s[Rt+1]=s[Rt+2]=0,xt-=st,bt-=ct,yt-=ut,mt-=lt,st-=d.r,ct-=d.g,ut-=d.b,lt-=d.a,Rt=ot+((Rt=Nt+x)<l?Rt:l)*o<<2,xt+=Bt+=d.r=s[Rt],bt+=pt+=d.g=s[Rt+1],yt+=wt+=d.b=s[Rt+2],mt+=Ct+=d.a=s[Rt+3],d=d.next,st+=it=p.r,ct+=ft=p.g,ut+=gt=p.b,lt+=vt=p.a,Bt-=it,pt-=ft,wt-=gt,Ct-=vt,p=p.next,C+=o}}return t}function f(t,r,a,n,o,i){if(!(isNaN(i)||i<1)){i|=0;var f=e(t,r,a,n,o);f=g(f,r,a,n,o,i),t.getContext("2d").putImageData(f,r,a)}}function g(t,n,e,o,i,f){for(var g,s=t.data,c=2*f+1,u=o-1,l=i-1,x=f+1,b=x*(x+1)/2,y=new v,m=y,h=1;h<c;h++)m=m.next=new v,h===x&&(g=m);m.next=y;for(var d,p,w=null,C=null,B=r[f],E=a[f],I=0,N=0,R=0;R<i;R++){var D=s[N],G=s[N+1],S=s[N+2],A=x*D,T=x*G,W=x*S,j=b*D,H=b*G,k=b*S;m=y;for(var q=0;q<x;q++)m.r=D,m.g=G,m.b=S,m=m.next;for(var z=0,F=0,J=0,K=1;K<x;K++)d=N+((u<K?u:K)<<2),j+=(m.r=D=s[d])*(p=x-K),H+=(m.g=G=s[d+1])*p,k+=(m.b=S=s[d+2])*p,z+=D,F+=G,J+=S,m=m.next;w=y,C=g;for(var L=0;L<o;L++)s[N]=j*B>>E,s[N+1]=H*B>>E,s[N+2]=k*B>>E,j-=A,H-=T,k-=W,A-=w.r,T-=w.g,W-=w.b,d=I+((d=L+f+1)<u?d:u)<<2,j+=z+=w.r=s[d],H+=F+=w.g=s[d+1],k+=J+=w.b=s[d+2],w=w.next,A+=D=C.r,T+=G=C.g,W+=S=C.b,z-=D,F-=G,J-=S,C=C.next,N+=4;I+=o}for(var M=0;M<o;M++){var O=s[N=M<<2],P=s[N+1],Q=s[N+2],U=x*O,V=x*P,X=x*Q,Y=b*O,Z=b*P,$=b*Q;m=y;for(var _=0;_<x;_++)m.r=O,m.g=P,m.b=Q,m=m.next;for(var tt=0,rt=0,at=0,nt=1,et=o;nt<=f;nt++)N=et+M<<2,Y+=(m.r=O=s[N])*(p=x-nt),Z+=(m.g=P=s[N+1])*p,$+=(m.b=Q=s[N+2])*p,tt+=O,rt+=P,at+=Q,m=m.next,nt<l&&(et+=o);N=M,w=y,C=g;for(var ot=0;ot<i;ot++)s[d=N<<2]=Y*B>>E,s[d+1]=Z*B>>E,s[d+2]=$*B>>E,Y-=U,Z-=V,$-=X,U-=w.r,V-=w.g,X-=w.b,d=M+((d=ot+x)<l?d:l)*o<<2,Y+=tt+=w.r=s[d],Z+=rt+=w.g=s[d+1],$+=at+=w.b=s[d+2],w=w.next,U+=O=C.r,V+=P=C.g,X+=Q=C.b,tt-=O,rt-=P,at-=Q,C=C.next,N+=o}return t}var v=function t(){!function(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,t),this.r=0,this.g=0,this.b=0,this.a=0,this.next=null};export{v as BlurStack,f as canvasRGB,o as canvasRGBA,n as image,g as imageDataRGB,i as imageDataRGBA};
//# sourceMappingURL=stackblur-es.min.js.map
